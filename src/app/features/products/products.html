<!-- Loader -->

@if (loading) {
<app-loader></app-loader>
}


@if (!loading) {
<div class="container w-[95%] mx-auto">
  <div class="my-5 sm:w-[50%] w-[80%] mx-auto">
    <input [(ngModel)]="searchInput" type="text" class="w-full border border-gray-300 rounded-xl
      focus:!border-green-500 focus:!outline-none
      focus:!ring-0 transition-all duration-150
      placeholder:text-gray-400 text-gray-400" placeholder="Search By Product Name">
  </div>
  <div class="grid grid-cols-12 gap-4">
    @for(data of dataList() | search: searchInput; track $index) {
    <div class="lg:col-span-3 md:col-span-4 sm:col-span-6 col-span-12">
      <app-card [productData]="data"></app-card>
    </div>
    }
  </div>
  <!-- Pagination -->
  <div class="pagination mt-5">
    <div class="flex items-center gap-5 justify-center">
      <button
        class="disabled:cursor-not-allowed cursor-pointer px-4 py-2 border border-green-500 rounded-md duration-200 transition-all hover:bg-green-500 hover:text-white disabled:hover:bg-gray-300 disabled:hover:text-black disabled:border-gray-300 disabled:bg-gray-300"
        (click)="changePage(currentPage - 1)" [disabled]="currentPage === 1">Prev</button>
      <div class="pages flex gap-3">
        @for (page of pages; track $index; let i = $index) {
        <button class="number border border-green-500 px-3 py-1 rounded-md cursor-pointer"
          (click)="changePage(currentPage = i + 1)" [ngClass]="{'bg-green-500 text-white': currentPage == i + 1}">{{i +
          1}}</button>
        }
      </div>
      <button
        class="disabled:cursor-not-allowed cursor-pointer px-4 py-2 border border-green-500 rounded-md duration-200 transition-all hover:bg-green-500 hover:text-white disabled:hover:bg-gray-300 disabled:hover:text-black disabled:border-gray-300 disabled:bg-gray-300"
        (click)="changePage(currentPage + 1)" [disabled]="currentPage === totalPages">Next</button>
    </div>
  </div>
</div>
}